<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mission Countdown</title>
  </head>
  <body>
    <h1>MISSION COUNTDOWN</h1>
    <button id="start-timeout">GET READY?</button>
    <h2 id="timeout-display"></h2>
    <button id="start-interval">START COUNTDOWN</button>
    <h2 id="interval-display"></h2>

    <h2 class="repeat-go"></h2>
    <h2 class="repeat-go"></h2>
    <h2 class="repeat-go"></h2>

    <script>
      const startTimeoutButton = document.getElementById('start-timeout')
      const timeoutDisplay = document.getElementById('timeout-display')
      const startIntervalButton = document.getElementById('start-interval')
      const intervalDisplay = document.getElementById('interval-display')
      const repeatGo = document.querySelectorAll('.repeat-go')

      startTimeoutButton.addEventListener('click', startTimeout)
      startIntervalButton.addEventListener('click', startInterval)

      function startTimeout() {
        timeoutDisplay.textContent = 'Getting ready...'

        const timeoutTimer = setTimeout(() => {
          timeoutDisplay.textContent = 'READY!'
        }, 5000)
      }

      let count = 5
      let intervalTimer
      let isCountedDown = true

      function startInterval() {
        const intervalId = setInterval(() => {
          if (count <= 0) {
            clearInterval(intervalId)
            if (isCountedDown) {
              const repeatGoArray = Array.from(repeatGo)
              for (let i = 0; i < repeatGoArray.length; i++) {
                setTimeout(() => {
                  repeatGoArray[i].textContent = 'GO!'
                }, i * 1000)
              }
            }
            return
          }
          count--
          intervalDisplay.textContent = count
        }, 1000)
      }
    </script>
  </body>
</html>
